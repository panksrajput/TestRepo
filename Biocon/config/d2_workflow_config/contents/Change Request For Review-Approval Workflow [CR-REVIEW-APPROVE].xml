<?xml version="1.0" encoding="utf-8"?>
<d2_workflow_config>
	<workflow_label_en/>
	<activity-list>
		<activity lifecycle="Change Request Lifecycle Model" method="D2WFLifeCycleMethod" target_state="Draft" task_subject_en="Demote to Draft" transition_type="demote" value="Demote to Draft"/>
		<activity audit_acquired="true" audit_response="true" value="Initiate"/>
		<activity alias_name="Approvers" audit_acquired="true" audit_response="true" check_lifecycle="false" delegate_dql="select g.i_all_users_names from dm_group g, dm_user u where any g.i_supergroups_names in (select alias_value from d2_dictionary_value where dictionary_name like 'GMP Applicable Sites' and any alias_value is not nullstring and alias_value like '%_approvers' and object_name in ($repeatingvalue(applicable_sites)) ENABLE(ROW_BASED)) AND ANY g.i_all_users_names NOT IN ($repeatingvalue(wf_approvers)) AND ANY g.i_all_users_names = u.user_name  AND u.user_state = 0 union select g.i_all_users_names from dm_group g, dm_user u where any g.i_supergroups_names in (select alias_value from d2_dictionary_value where dictionary_name like 'GMP Applicable Sites' and any alias_value is not nullstring and alias_value like '%qo_approvers' and object_name in ($repeatingvalue(applicable_sites)) ENABLE(ROW_BASED)) AND ANY g.i_all_users_names NOT IN ($repeatingvalue(wf_approvers)) AND ANY g.i_all_users_names = u.user_name  AND u.user_state = 0 order by 1" delegate_type="dql" display_task="true" intention_dictionary="Approval Intention Codes" is_pseudo_task="true" mandatory_intention="true" mandatory_reject_comment="true" signoff_each_document="false" signoff_required="true" signoff_required_for="forward" task_accept_labels_en="Approve" task_category_en="$value(a_status)" task_duration="30" task_instructions_en="Change Request &quot;$value(object_name)&quot; has been sent to you for your approval. Please evaluate the requested changes carefully to determine whether more information is required or whether the Change Request is valid, complete and accurate and can be approved. If the Change Request receives all required approvals, the responsible parties will be notified with instructions to proceed with the document changes." task_reject_labels_en="Reject" task_subject_en="Change Request &quot;$value(object_name)&quot; requires your approval" value="Approve CR">
			<follow-up message_en="30 days have passed since this task was sent to you. Please review &quot;$value(object_name)&quot; to determine if the change request should be approved. Please note that the change request authors have been notified." subject_en="There is a task outstanding for the following change request &quot;$value(object_name)&quot;." task_owner="true"/>
			<follow-up message_en="The approvers $value(wf_approvers) have been notified that they have a task for the document &quot;$value(object_name)&quot;, which has been outstanding for 30 days. If this document needs to be expedited please contact the approvers directly." recipient_alias="Requestors" recipient_other="true" recipient_type="alias" subject_en="&quot;$value(object_name)&quot; has been outstanding for 30 days."/>
		</activity>
		<activity alias_name="Reviewers" audit_acquired="true" audit_response="true" check_lifecycle="false" custom_alias_list="Approvers" delegate_dql="select g.i_all_users_names from dm_group g, dm_user u where any g.i_supergroups_names in (select alias_value from d2_dictionary_value where dictionary_name like 'GMP Applicable Sites' and any alias_value is not nullstring and alias_value like '%_coordinators' and object_name in ($repeatingvalue(applicable_sites)) ENABLE(ROW_BASED)) AND ANY i_all_users_names NOT IN ($repeatingvalue(wf_reviewers)) AND ANY g.i_all_users_names = u.user_name  AND u.user_state = 0" delegate_type="dql" display_task="true" is_pseudo_task="true" mandatory_intention="true" mandatory_reject_comment="true" property_page_forward="All Solutions Review Nosig Property" requiredOnForward_alias_list="Approvers" requiredOnReject_alias_list="Approvers" signoff_required="false" signoff_required_for="all" task_accept_labels_en="Reviewed Without Comments" task_category_en="$value(a_status)" task_instructions_en="Change Request &quot;$value(object_name)&quot; has been sent to you for review. Please evaluate the requested changes carefully. You may modify the Change Request if needed to ensure that the Change Request is valid, complete and accurate and can be forwarded for approval. Alternatively, you may return the Change Request to the requestor(s) for modifications or to cancel the Change Request." task_reject_labels_en="Reviewed With Comments" task_subject_en="Change Request &quot;$value(object_name)&quot; requires your review" value="Review CR"/>
		<activity alias_name="Requestors" audit_acquired="true" audit_response="true" check_lifecycle="true" delegate_dql=" select g.i_all_users_names from dm_group g, dm_user u where any g.i_supergroups_names in (select alias_value from d2_dictionary_value where dictionary_name like 'GMP Applicable Sites' and any alias_value is not nullstring and alias_value like '%_authors' and object_name in ($repeatingvalue(applicable_sites)) ENABLE(ROW_BASED)) AND ANY g.i_all_users_names NOT IN ($repeatingvalue(wf_authors)) AND ANY g.i_all_users_names = u.user_name AND u.user_state = 0 union select g.i_all_users_names from dm_group g, dm_user u where any g.i_supergroups_names in (select alias_value from d2_dictionary_value where dictionary_name like 'GMP Applicable Sites' and any alias_value is not nullstring and alias_value like '%_coordinators' and object_name in ($repeatingvalue(applicable_sites)) ENABLE(ROW_BASED)) AND ANY g.i_all_users_names NOT IN ($repeatingvalue(wf_authors)) AND ANY g.i_all_users_names = u.user_name  AND u.user_state = 0 order by 1" delegate_type="dql" display_task="true" is_pseudo_task="true" task_accept_labels_en="Resend" task_category_en="$value(a_status)" task_instructions_en="Please make any necessary changes to &quot;$value(object_name)&quot; and 'Resend' the task to resubmit for approval." task_reject_labels_en="End Workflow" task_subject_en="Change Request &quot;$value(object_name)&quot; was rejected" value="Edit CR"/>
		<activity method="dm_noop_auto_method_java" value="Start"/>
		<activity lifecycle="Change Request Lifecycle Model" method="D2WFLifeCycleMethod" target_state="(Start WF)" task_subject_en="Start WF" transition_type="promote" value="Start WF"/>
		<activity lifecycle="Change Request Lifecycle Model" method="D2WFLifeCycleMethod" target_state="For Review" task_subject_en="Promote to For Review" transition_type="promote" value="Promote to For Review"/>
		<activity lifecycle="Change Request Lifecycle Model" method="D2WFLifeCycleMethod" target_state="For Approval" task_subject_en="Promote to For Approval" transition_type="promote" value="Promote to For Approval"/>
		<activity alias_name="Acknowledgers" audit_acquired="true" audit_response="true" check_lifecycle="true" delegate_dql="select g.i_all_users_names from dm_group g, dm_user u where any g.i_supergroups_names in (select alias_value from d2_dictionary_value where dictionary_name like 'GMP Applicable Sites' and  object_name in ($repeatingvalue(applicable_sites)) ENABLE (ROW_BASED)) AND ANY i_all_users_names NOT IN ($repeatingvalue(wf_authors_review)) AND ANY g.i_all_users_names = u.user_name  AND u.user_state = 0 order by 1" delegate_type="dql" display_task="true" is_pseudo_task="true" mandatory_intention="true" signoff_required="false" task_accept_labels_en="Acknowledge Request for Change" task_category_en="$value(a_status)" task_instructions_en="Change Request &quot;$value(object_name)&quot; has been approved. You are indicated as responsible for the changes on at least one the following documents: $repeatingvalue(affected_document_name). Please acknowledge that you have received this message and will ensure that the required changes are implemented." task_subject_en="Change Request &quot;$value(object_name)&quot; requires your acknowledgement" value="Acknowledge Changes"/>
		<activity lifecycle="Change Request Lifecycle Model" method="D2WFLifeCycleMethod" target_state="(End WF)" task_subject_en="End WF" transition_type="promote" value="End WF"/>
		<activity method="CDFWorkflowNotificationMethod" value="Finish"/>
		<activity lifecycle="Change Request Lifecycle Model" method="D2WFLifeCycleMethod" target_state="CIP" task_subject_en="Promote to Change In Progress" transition_type="promote" value="Promote to Change In Progress"/>
		<activity lifecycle="Change Request Lifecycle Model" method="D2WFLifeCycleMethod" target_state="(check annotations)" task_subject_en="check for document annotations" transition_type="promote" value="chk annotations"/>
		<activity lifecycle="Change Request Lifecycle Model" method="D2WFLifeCycleMethod" target_state="(version document)" task_subject_en="Skip For Review and Send to For Approval" transition_type="promote" value="version the document"/>
		<activity lifecycle="Change Request Lifecycle Model" method="D2WFLifeCycleMethod" target_state="Draft" task_subject_en="Demote to Draft with Annotations" transition_type="demote" value="send to Authors with annotations"/>
		<activity alias_name="Reviewers" audit_acquired="true" audit_response="true" check_lifecycle="false" custom_alias_list="Approvers" display_task="true" is_pseudo_task="true" mandatory_reject_comment="false" task_accept_labels_en="Reselect Approvers and send to Approval" task_category_en="$value(a_status)" task_instructions_en="You cannot designate yourself as the sole approver of &quot;$value(object_name)&quot;. The document must be approved by someone other than yourself, although you can include yourself as an additional approver if required." task_reject_labels_en="End Workflow" task_subject_en="Reselect approvers for &quot;$value(object_name)&quot;" value="Correct Invalid Approvers"/>
		<activity lifecycle="Change Request Lifecycle Model" method="D2WFLifeCycleMethod" target_state="(WF Reselect Approvers)" task_subject_en="Reselect Approvers" transition_type="promote" value="Reselect Approvers"/>
		<activity lifecycle="Change Request Lifecycle Model" method="D2WFLifeCycleMethod" target_state="(version document)" task_subject_en="Create new Minor Version" transition_type="promote" value="version the Document"/>
		<activity lifecycle="Change Request Lifecycle Model" method="D2WFLifeCycleMethod" target_state="Draft" task_subject_en="Demote to Draft" transition_type="demote" value="Draft the document"/>
		<activity lifecycle="Change Request Lifecycle Model" method="D2WFLifeCycleMethod" target_state="(version document)" task_subject_en="Create new Minor Version" transition_type="promote" value="Version the Document"/>
		<activity lifecycle="Change Request Lifecycle Model" method="D2WFLifeCycleMethod" target_state="Draft" task_subject_en="Demote to Draft" transition_type="demote" value="demote to Draft"/>
		<activity audit_acquired="true" audit_response="true" custom_alias_list="Approvers" display_task="true" mandatory_reject_comment="true" task_accept_labels_en="Reselect Approvers and Resend" task_category_en="$value(a_status)" task_instructions_en="You cannot designate yourself as the sole approver of &quot;$value(object_name)&quot;. The document must be approved by someone other than yourself, although you can include yourself as an additional approver if required." task_reject_labels_en="End Workflow" task_subject_en="Reselect approvers for &quot;$value(object_name)&quot;" value="Correct Invalid Approvers - Initiator"/>
		<activity method="dm_noop_auto_method_java" task_subject_en="Pre Ack" value="Pre Ack"/>
		<activity method="dm_noop_auto_method_java" task_subject_en="Bypass Ack" value="Bypass Ack"/>
	</activity-list>
	<workflow abort_apply_on_attachments="false" abort_lifecycle="Change Request Lifecycle Model" abort_target_state="(Abort WF)"/>
	<entry_conditions>
		<uniquenesscheck message_failed_en="" uniqueness="Validate CTS rendition for the document or virtual document is available"/>
		<uniquenesscheck message_failed_en="" uniqueness="Validate selected document is a Draft document"/>
		<uniquenesscheck message_failed_en="" uniqueness="Validate selected document is not involved in an active workflow"/>
		<uniquenesscheck message_failed_en="" uniqueness="Validate selected document is the CURRENT version"/>
		<uniquenesscheck message_failed_en="" uniqueness="Validate selected document is not checked-out"/>
		<uniquenesscheck message_failed_en="" uniqueness="Validate user is an Author for the selected document"/>
		<uniquenesscheck message_failed_en="" uniqueness="Validate Change Request has at least one attachment"/>
		<uniquenesscheck message_failed_en="" uniqueness="Validate Change Request has Affected Documents fields filled"/>
		<attribute compare="eq" message_failed_en="The Process List is not updated correctly. Hence document cannot be sent to the workflow." name="wf_process_list" value="CR-REVIEW-APPROVE"/>
		<uniquenesscheck message_failed_en="" uniqueness="Validate Change Request for Errors"/>
	</entry_conditions>
	<dialog height="600" width="600">
		<list id="Reviewers" assistance_dql="select g.i_all_users_names from dm_user u, dm_group g where any g.i_supergroups_names in (select alias_value from d2_dictionary_value where dictionary_name like 'GMP Applicable Sites' and alias_value like '%_coordinators' and object_name in ($repeatingvalue(applicable_sites)) ENABLE(ROW_BASED)) AND ANY g.i_all_users_names = u.user_name and user_state = 0 order by g.i_all_users_names" assistance_type="dql" asynchronous="true" linked_attribute="wf_reviewers" required_values_count_min="1" requiredOnStartup="true" rows="4" sorted="true" value="$value(doc_coordinators)"/>
		<list id="Approvers" assistance_dql="select g.i_all_users_names from dm_user u, dm_group g where any g.i_supergroups_names in (select alias_value from d2_dictionary_value where dictionary_name like 'GMP Applicable Sites' and alias_value like '%_approvers' and object_name in ($repeatingvalue(applicable_sites)) ENABLE(ROW_BASED)) AND ANY g.i_all_users_names = u.user_name  AND u.user_state = 0 union select g.i_all_users_names from dm_user u, dm_group g where any g.i_supergroups_names in (select alias_value from d2_dictionary_value where dictionary_name like 'GMP Applicable Sites' and alias_value like '%qo_approvers' and object_name in ($repeatingvalue(applicable_sites)) ENABLE(ROW_BASED)) AND ANY g.i_all_users_names = u.user_name  AND u.user_state = 0 order by 1" assistance_type="dql" asynchronous="true" linked_attribute="wf_approvers" rows="4" sorted="true"/>
		<list id="Requestors" assistance_dql="select g.i_all_users_names from dm_user u, dm_group g where any g.i_supergroups_names in (select alias_value from d2_dictionary_value where dictionary_name like 'GMP Applicable Sites' and alias_value like '%_authors' and object_name in ($repeatingvalue(applicable_sites)) ENABLE(ROW_BASED)) AND ANY g.i_all_users_names = u.user_name  AND u.user_state = 0 union select g.i_all_users_names from dm_user u, dm_group g where any g.i_supergroups_names in (select alias_value from d2_dictionary_value where dictionary_name like 'GMP Applicable Sites' and alias_value like '%_coordinators' and object_name in ($repeatingvalue(applicable_sites)) ENABLE(ROW_BASED)) AND ANY g.i_all_users_names = u.user_name  AND u.user_state = 0 order by 1" assistance_type="dql" asynchronous="true" linked_attribute="wf_authors" required_values_count_min="1" requiredOnStartup="true" rows="4" sorted="true" value="$value(cr_requestors)"/>
		<list id="Acknowledgers" assistance_dql="select groups_names from dm_group where group_name in (select alias_value from dm_dbo.d2_dictionary_alias_view where dictionary_name like 'GMP Applicable Sites' and alias_value is not nullstring and dictionary_key in ($repeatingvalue(applicable_sites))) and groups_names is not nullstring union select g.i_all_users_names from dm_user u, dm_group g where group_name in (select alias_value from dm_dbo.d2_dictionary_alias_view where dictionary_name like 'GMP Applicable Sites' and alias_value is not nullstring and dictionary_key in ($repeatingvalue(applicable_sites))) and g.i_all_users_names = u.user_name AND u.user_state = 0 order by 1 ENABLE (ROW_BASED)" assistance_type="dql" asynchronous="true" linked_attribute="wf_authors_review" required_values_count_min="1" requiredOnStartup="true" rows="4" sorted="true" value="$value(affected_doc_notify_user)"/>
	</dialog>
</d2_workflow_config>