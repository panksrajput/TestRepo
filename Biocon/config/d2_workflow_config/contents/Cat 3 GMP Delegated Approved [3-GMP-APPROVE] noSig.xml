<?xml version="1.0" encoding="utf-8"?>
<d2_workflow_config>
	<workflow_label_en>Cat 3 Submit for Approval...(no eSignature)</workflow_label_en>
	<activity-list>
		<activity lifecycle="Cat 3 Controlled Document Lifecycle Model" method="D2WFLifeCycleMethod" target_state="(Draft with New Version)" task_subject_en="Demote to Draft" transition_type="demote" value="demote to Draft"/>
		<activity method="CDFWorkflowNotificationMethod" value="Finish"/>
		<activity alias_name="approvers" audit_acquired="true" audit_response="true" check_lifecycle="true" delegate_dql="select g.i_all_users_names from dm_group g, dm_user u where any g.i_supergroups_names in (select alias_value from d2_dictionary_value where dictionary_name like 'GMP Applicable Sites' and any alias_value is not nullstring and (alias_value like '%_approvers') and object_name in ($repeatingvalue(applicable_sites)) ENABLE(ROW_BASED)) AND ANY g.i_all_users_names NOT IN ('$USER') and any g.i_all_users_names = u.user_name and u.user_state = 0 order by 1" delegate_type="dql" display_task="true" intention_dictionary="Review Intention Codes" is_pseudo_task="true" mandatory_intention="true" signoff_each_document="false" signoff_required="true" signoff_required_for="forward" task_accept_labels_en="Approve" task_category_en="$value(a_status)" task_duration="30" task_instructions_en="Please review the attached documents. After reviewing them, please move them forward by accepting the task or send them back to Draft by rejecting the task." task_reject_labels_en="Reject" task_subject_en="&quot;$value(object_name)&quot; requires your approval" value="Delegated Approval">
			<follow-up delay="0" message_en="30 days have passed since this task was sent to you. Please review &quot;$value(object_name)&quot; to determine if the document should be accepted and moved forward for further approval. Please note that the document authors have been notified." subject_en="There is a task outstanding for the following document &quot;$value(object_name)&quot;" task_owner="true"/>
			<follow-up delay="0" message_en="The approvers $value(wf_approvers) have been notified that they have a task for the document &quot;$value(object_name)&quot;, which has been outstanding for 30 days. If this document needs to be expedited please contact the approvers directly." recipient_alias="authors" recipient_other="true" recipient_type="alias" subject_en="&quot;$value(object_name)&quot; has been outstanding for 30 days."/>
		</activity>
		<activity lifecycle="Cat 3 Controlled Document Lifecycle Model" method="D2WFLifeCycleMethod" target_state="(Effective via Workflow)" task_subject_en="change to Effective" transition_type="promote" value="change to Effective"/>
		<activity lifecycle="Cat 3 Controlled Document Lifecycle Model" method="D2WFLifeCycleMethod" target_state="(End WF)" task_subject_en="End WF" transition_type="promote" value="End WF"/>
		<activity display_task="true" method="dm_noop_auto_method_java" value="Decide to require signatures"/>
		<activity lifecycle="Cat 3 Controlled Document Lifecycle Model" method="D2WFLifeCycleMethod" target_state="(Start WF)" task_subject_en="Start WF" transition_type="promote" value="Start WF"/>
		<activity alias_name="approvers" audit_acquired="true" audit_response="true" check_lifecycle="true" delegate_dql="select g.i_all_users_names from dm_group g, dm_user u where any g.i_supergroups_names in (select alias_value from d2_dictionary_value where dictionary_name like 'GMP Applicable Sites' and any alias_value is not nullstring and (alias_value like '%_approvers') and object_name in ($repeatingvalue(applicable_sites)) ENABLE(ROW_BASED)) AND ANY g.i_all_users_names NOT IN ('$USER') and any g.i_all_users_names = u.user_name and u.user_state = 0 order by 1" delegate_type="dql" display_task="true" is_pseudo_task="true" property_page_forward="All Solutions Approve Nosig Property" task_accept_labels_en="Approve" task_category_en="$value(a_status)" task_duration="30" task_instructions_en="Please review the attached documents. After reviewing them, please move them forward by accepting the task or send them back to Draft by rejecting the task." task_reject_labels_en="Reject" task_subject_en="&quot;$value(object_name)&quot; requires your approval" value="Delegated Approval - no Sig">
			<follow-up delay="0" message_en="30 days have passed since this task was sent to you. Please review &quot;$value(object_name)&quot; to determine if the document should be accepted and moved forward for further approval. Please note that the document authors have been notified." subject_en="There is a task outstanding for the following document &quot;$value(object_name)&quot;" task_owner="true"/>
			<follow-up delay="0" message_en="The approvers $value(wf_approvers) have been notified that they have a task for the document &quot;$value(object_name)&quot;, which has been outstanding for 30 days. If this document needs to be expedited please contact the approvers directly." recipient_alias="authors" recipient_other="true" recipient_type="alias" subject_en="&quot;$value(object_name)&quot; has been outstanding for 30 days."/>
		</activity>
		<activity alias_name="authors" audit_acquired="true" audit_response="true" check_lifecycle="true" delegate_dql="select g.i_all_users_names from dm_group g, dm_user u where any g.i_supergroups_names in (select alias_value from d2_dictionary_value where dictionary_name like 'GMP Applicable Sites' and any alias_value is not nullstring and alias_value like '%_authors' and object_name in ($repeatingvalue(applicable_sites)) ENABLE(ROW_BASED)) AND ANY g.i_all_users_names NOT IN ('$USER') and any g.i_all_users_names = u.user_name and u.user_state = 0 order by 1" delegate_type="dql" display_task="true" is_pseudo_task="true" task_accept_labels_en="Resend" task_category_en="$value(a_status)" task_instructions_en="Please make any necessary changes to &quot;$value(object_name)&quot; and 'Resend' the task to resubmit for approval send back to review." task_reject_labels_en="End Workflow" task_subject_en="&quot;$value(object_name)&quot; was rejected" value="Draft"/>
		<activity lifecycle="Cat 3 Controlled Document Lifecycle Model" method="D2WFLifeCycleMethod" target_state="For Approval" task_subject_en="Promote To For Approval" transition_type="promote" value="promote to For Approval"/>
		<activity method="dm_noop_auto_method_java" value="Start"/>
		<activity audit_acquired="true" audit_response="true" value="Initiate"/>
	</activity-list>
	<workflow abort_apply_on_attachments="false" abort_lifecycle="Cat 3 Controlled Document Lifecycle Model" abort_target_state="(Abort WF)"/>
	<entry_conditions>
		<uniquenesscheck message_failed_en="" uniqueness="Validate CTS rendition of the document is created before going to next stage of workflow."/>
		<uniquenesscheck message_failed_en="" uniqueness="Validate selected document is a Draft document"/>
		<uniquenesscheck message_failed_en="" uniqueness="Validate selected document is not checked-out"/>
		<uniquenesscheck message_failed_en="" uniqueness="Validate selected document is the CURRENT version"/>
		<uniquenesscheck message_failed_en="" uniqueness="Validate user is an Author for the selected document"/>
		<uniquenesscheck message_failed_en="" uniqueness="Validate selected document is not involved in an active workflow"/>
		<attribute compare="eq" message_failed_en="The Process List is not updated correctly. Hence document cannot be sent to the workflow." name="wf_process_list" value="3-GMP-APPROVE"/>
		<attribute compare="not_contains" message_failed_en="This document is configured for approval with eSignatures. It cannot be sent on a workflow that does not use eSignatures." name="wf_signature_list" value="APPROVESIG"/>
	</entry_conditions>
	<dialog height="500" width="600">
		<list id="authors" assistance_dql="select g.i_all_users_names from dm_user u, dm_group g where any g.i_supergroups_names in (select alias_value from d2_dictionary_value where dictionary_name like 'GMP Applicable Sites' and any alias_value is not nullstring and alias_value like '%_authors' and object_name in ($repeatingvalue(applicable_sites)) ENABLE(ROW_BASED)) AND ANY g.i_all_users_names = u.user_name and u.user_state = 0 order by 1" assistance_type="dql" asynchronous="true" label_en="Document Authors" linked_attribute="wf_authors" required_values_count_min="1" requiredOnStartup="true" rows="4" sorted="true" value="$USER"/>
		<list id="approvers" assistance_dql="select g.i_all_users_names from dm_user u, dm_group g where any g.i_supergroups_names in (select alias_value from d2_dictionary_value where dictionary_name like 'GMP Applicable Sites' and any alias_value is not nullstring and (alias_value like '%_approvers') and object_name in ($repeatingvalue(applicable_sites)) ENABLE(ROW_BASED)) AND ANY g.i_all_users_names = u.user_name and u.user_state = 0 order by 1" assistance_type="dql" asynchronous="true" label_en="Document Approvers" linked_attribute="wf_approvers" required_values_count_min="1" requiredOnStartup="true" rows="4" sorted="true" value="$value(approvers)"/>
	</dialog>
</d2_workflow_config>