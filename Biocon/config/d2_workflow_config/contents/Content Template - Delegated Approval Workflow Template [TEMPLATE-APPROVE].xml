<?xml version="1.0" encoding="utf-8"?>
<d2_workflow_config>
	<workflow_label_en>Content Template Submit for Approval...</workflow_label_en>
	<activity-list>
		<activity audit_acquired="true" audit_response="true" value="Initiate"/>
		<activity method="dm_noop_auto_method_java" value="Start"/>
		<activity lifecycle="Content Template Lifecycle Model" method="D2WFLifeCycleMethod" target_state="(Start WF)" task_subject_en="Start WF" transition_type="promote" value="Start WF"/>
		<activity lifecycle="Content Template Lifecycle Model" method="D2WFLifeCycleMethod" target_state="For Approval" task_subject_en="promote to For Approval" transition_type="promote" value="promote to For Approval"/>
		<activity alias_name="approvers" audit_acquired="true" audit_response="true" check_lifecycle="true" display_task="true" intention_dictionary="Approval Intention Codes" is_pseudo_task="true" mandatory_intention="true" mandatory_reject_comment="true" signoff_required="false" signoff_required_for="forward" task_accept_labels_en="Approve" task_category_en="$value(a_status)" task_duration="30" task_instructions_en="Please review the attached documents. After reviewing them, please move them forward by accepting the task or send them back to Draft by rejecting the task." task_subject_en="&quot;$value(object_name)&quot; requires your approval" value="For Approval">
			<follow-up delay="0" message_en="30 days have passed since this task was sent to you. Please review &quot;$value(object_name)&quot; to determine if the document should be accepted and moved forward for further approval. Please note that the document authors have been notified." subject_en="There is a task outstanding for the following document &quot;$value(object_name)&quot;"/>
			<follow-up delay="0" message_en="The approvers $value(wf_approvers) have been notified that they have a task for the document &quot;$value(object_name)&quot;, which has been outstanding for 30 days. If this document needs to be expedited please contact the approvers directly." recipient_alias="authors" recipient_other="true" recipient_type="alias" subject_en="&quot;$value(object_name)&quot; has been outstanding for 30 days"/>
		</activity>
		<activity lifecycle="Content Template Lifecycle Model" method="D2WFLifeCycleMethod" target_state="Draft" task_subject_en="Demote to Draft" transition_type="demote" value="demote to Draft"/>
		<activity alias_name="authors" audit_acquired="true" audit_response="true" display_task="true" is_pseudo_task="true" task_accept_labels_en="Resend" task_instructions_en="Please make any necessary changes to &quot;$value(object_name)&quot; and 'Resend' the task to resubmit for approval." task_reject_labels_en="End Workflow" task_subject_en="&quot;$value(object_name)&quot; was rejected" value="Draft"/>
		<activity lifecycle="Content Template Lifecycle Model" method="D2WFLifeCycleMethod" target_state="(Effective via Workflow)" task_subject_en="change to Effective" transition_type="promote" value="change to Effective"/>
		<activity lifecycle="Content Template Lifecycle Model" method="D2WFLifeCycleMethod" target_state="(End WF)" task_subject_en="End WF" transition_type="promote" value="End WF"/>
		<activity method="CDFWorkflowNotificationMethod" value="Finish"/>
	</activity-list>
	<workflow abort_apply_on_attachments="false" abort_lifecycle="Content Template Lifecycle Model" abort_target_state="(Abort WF)"/>
	<entry_conditions>
		<uniquenesscheck message_failed_en="" uniqueness="Validate selected template is not checked-out"/>
		<uniquenesscheck message_failed_en="" uniqueness="Validate selected template is the CURRENT version"/>
		<uniquenesscheck message_failed_en="" uniqueness="Validate user is an Author for the selected template"/>
		<uniquenesscheck message_failed_en="" uniqueness="Validate selected document is not involved in an active workflow"/>
		<uniquenesscheck message_failed_en="" uniqueness="Validate selected template is a Draft template"/>
		<attribute compare="eq" message_failed_en="The Process List is not updated correctly. Hence document cannot be sent to the workflow." name="wf_process_list" value="TEMPLATE-APPROVE"/>
		<attribute compare="not_eq" message_failed_en="The selected spreadsheet ($value(object_name)) can't be processed, as it is not in a recognized format. To create a new Virtual Document Template Spreadsheet, use one of the pre-approved spreadsheet templates as a starting-point." name="excel_schema_format" value=" "/>
		<callmethod argument="-if &quot;a_content_type = 'vdts' and a_status != 'Validated'&quot; -operation validate -permitted_object_types &quot;$repeatingvalue(vdoc_component_object_types)&quot; -context_user &quot;$USER&quot; -post_transition_on_success &quot;Validated&quot; -post_transition_on_error &quot;Invalid&quot; -vdoc_is_study_related &quot;$value(vdoc_is_study_related)&quot;" message_failed_en="The selected spreadsheet ($value(object_name)) cannot be sent for approval. Issue(s) identified in the &quot;Errors / Warnings&quot; column must be corrected prior to resubmitting for approval." name="CDFVirtualDocumentAssemblerMethod"/>
	</entry_conditions>
	<dialog height="500" width="600">
		<list id="authors" assistance_dql="select groups_names from dm_group where any i_supergroups_names='$value(group_name)_template_authors' union  select g.i_all_users_names from dm_group g, dm_user u where any i_supergroups_names='$value(group_name)_template_authors' and any g.i_all_users_names = u.user_name and u.user_state = 0 union  select group_name from dm_group where group_name = '$value(group_name)_template_authors' union select groups_names from dm_group where any i_supergroups_names='$value(group_name)_tem_authors_tmf' union  select g.i_all_users_names from dm_group g, dm_user u where any i_supergroups_names='$value(group_name)_tem_authors_tmf' and any g.i_all_users_names = u.user_name and u.user_state = 0 union  select group_name from dm_group where group_name = '$value(group_name)_tem_authors_tmf' order by 1" assistance_type="dql" asynchronous="true" label_en="Document Authors" linked_attribute="wf_authors" required_values_count_min="1" requiredOnStartup="true" rows="4" sorted="true" value="$value(authors)"/>
		<list id="approvers" assistance_dql="select group_name from dm_group where any i_supergroups_names='$value(group_name)_template_approvers' union select g.i_all_users_names from dm_group g, dm_user u where group_name = '$value(group_name)_template_approvers' and any g.i_all_users_names = u.user_name and u.user_state = 0 Union SELECT group_name FROM dm_group WHERE group_name IN (select groups_names from dm_group where group_name='$value(group_name)_template_approvers') union select group_name from dm_group where any i_supergroups_names='$value(group_name)_tem_approvers_tmf' union select g.i_all_users_names from dm_group g, dm_user u where group_name = '$value(group_name)_tem_approvers_tmf' and any g.i_all_users_names = u.user_name and u.user_state = 0 Union SELECT group_name FROM dm_group WHERE group_name IN (select groups_names from dm_group where group_name='$value(group_name)_tem_approvers_tmf') union select group_name from dm_group where any i_supergroups_names='$value(group_name)_tem_approvers' union select g.i_all_users_names from dm_group g, dm_user u where group_name = '$value(group_name)_tem_approvers' and any g.i_all_users_names = u.user_name and u.user_state = 0 Union SELECT group_name FROM dm_group WHERE group_name IN (select groups_names from dm_group where group_name='$value(group_name)_tem_approvers') order by 1" assistance_type="dql" asynchronous="true" label_en="Document Approvers" linked_attribute="wf_approvers" required_values_count_min="1" requiredOnStartup="true" rows="4" sorted="true" value="$value(approvers)"/>
	</dialog>
</d2_workflow_config>